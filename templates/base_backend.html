<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    <title>个人博客管理</title>
    <meta name="description" content="app, web app, responsive, responsive layout, admin, admin panel, admin dashboard, flat, flat ui, ui kit, AngularJS, ui route, charts, widgets, components" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <link rel="shortcut icon" href="/static/images/blog_title.png"/>
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/animate.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/simple-line-icons.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/font.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/app.css" type="text/css" />
    <link href="/static/css/select2.min.css" rel="stylesheet">
    <style type="text/css">
        a:link {color: #00CCFF} /* 未访问的链接 */
        a:visited {color: #00CCFF} /* 已访问的链接 */
        a:hover {color: #33FF66} /* 鼠标移动到链接上 */
        a:active {color: #990000} /* 选定的链接 */
    </style>

</head>
<body>
<div class="app app-header-fixed" id="app">
    <!-- navbar -->
    <div class="app-header navbar">
        <!-- navbar header -->
        <div class="navbar-header bg-dark">
            <button class="pull-right visible-xs dk" data-toggle="class:show" data-target=".navbar-collapse">
                <i class="glyphicon glyphicon-cog"></i>
            </button>
            <button class="pull-right visible-xs" data-toggle="class:off-screen" data-target=".app-aside">
                <i class="glyphicon glyphicon-align-justify"></i>
            </button>
            <!-- brand -->
            <a href="/backend_home" class="navbar-brand text-lt">
                <i class="fa fa-btc"></i>
                <img src="/static/images/logo.png" alt="." class="hide">
                <span class="hidden-folded m-l-xs">BLOG管理</span>
            </a>
            <!-- / brand -->
        </div>
        <!-- / navbar header -->

        <!-- navbar collapse -->
        <div class="collapse pos-rlt navbar-collapse box-shadow bg-white-only">
            <!-- buttons -->
            <div class="nav navbar-nav hidden-xs">
                <a href="#" class="btn no-shadow navbar-btn" data-toggle="class:app-aside-folded" data-target=".app">
                    <i class="fa fa-dedent fa-fw text"></i>
                    <i class="fa fa-indent fa-fw text-active"></i>
                </a>
                <a href class="btn no-shadow navbar-btn" data-toggle="class:show" data-target="#aside-user">
                    <i class="icon-user fa-fw"></i>
                </a>
            </div>
            <!-- / buttons -->
            <!-- nabar right -->
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" data-toggle="dropdown" class="dropdown-toggle clear">
                        <span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm">
                        <img src="/static/images/admin.png" alt="...">
                        <i class="on md b-white bottom"></i>
                        </span>
                        <span class="hidden-sm hidden-md">欢迎您:{{ request.user }}</span>
                        <ul class="dropdown-menu animated fadeInRight w">
                            <li>
                                <a href="/backend_admin">
                                    <span>设置</span>
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="/logout">退出</a>
                            </li>
                        </ul>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- menu -->
    <div class="app-aside hidden-xs bg-dark">
        <div class="aside-wrap">
            <div class="navi-wrap">
                <!-- user -->
                <div class="clearfix hidden-xs text-center hide" id="aside-user">
                    <div class="dropdown wrapper">
                        <a>
                            <span class="thumb-lg w-auto-folded avatar m-t-sm">
                            <img src="/static/images/admin.png" class="img-full" alt="...">
                            </span>
                        </a>
                        <a href="#" data-toggle="dropdown" class="dropdown-toggle hidden-folded">
                            <span class="clear">
                                <span class="block m-t-sm">
                                    <strong class="font-bold text-lt">{{ request.user }}</strong>
                                </span>
                            </span>
                        </a>
                    </div>
                    <div class="line dk hidden-folded"></div>
                </div>
                <!-- / user -->

                <!-- nav -->
                <nav class="navi">
                    <ul class="nav">
                        <li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                            <span>功能</span>
                        </li>
                        <li>
                            <a href="/backend_blog_list">
                                <i class="glyphicon glyphicon-stats icon text-primary-dker"></i>
                                <span class="font-bold">博客列表</span>
                            </a>
                        </li>

                        <li>
                            <a href="/backend_blog_create">
                                <i class="glyphicon glyphicon-pencil icon text-info-dker"></i>
                                <span class="font-bold">新建博客</span>
                            </a>
                        </li>

                        <li>
                            <a href="/backend_tags">
                                <i class="glyphicon glyphicon-th-large icon text-success"></i>
                                <span class="font-bold">标签管理</span>
                            </a>
                        </li>

                        <li>
                            <a href="/backend_messages">
                                <i class="glyphicon glyphicon-envelope icon text-info-lter"></i>
                                <span class="font-bold">邮件</span>
                            </a>
                        </li>

                        <li class="line dk"></li>

                        <li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                            <span>基础设置</span>
                        </li>
                        <li>
                            <a href="/backend_admin" class="auto">
                                <i class="glyphicon glyphicon-wrench"></i>
                                <span>个人信息</span>
                            </a>
                        </li>
                        <li>
                            <a href="/backend_aboutus" class="auto">
                                <i class="glyphicon glyphicon-briefcase icon"></i>
                                <span>网站介绍</span>
                            </a>
                        </li>

                        <li class="line dk hidden-folded"></li>

                        <li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                            <span>其它服务</span>
                        </li>
                        <li>
                            <a href="/home">
                                <i class="icon-user icon text-success-lter"></i>
                                <span>返回BLOG主页</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- nav -->
            </div>
        </div>
    </div>
    <!-- / menu -->

    <!-- content -->

    <div class="col-md-10">
        <div class="col-md-5">
            <h1 class="page-header">{{ title }}</h1>
        </div>
    </div>

    {% block content %}
    {% endblock content %}

    <!-- /content -->



    <!-- footer -->
    <div class="app-footer wrapper b-t bg-light">
        <p class="copyright">© MyBlog © 2016 © Chenfeifei</p>
    </div>
    <!-- / footer -->
</div>
<!-- jQuery -->
<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/select2.min.js"></script>
<script type="text/javascript">
    +function ($) {
        $(function(){
            // class
            $(document).on('click', '[data-toggle^="class"]', function(e){
                e && e.preventDefault();
                console.log('abc');
                var $this = $(e.target), $class , $target, $tmp, $classes, $targets;
                !$this.data('toggle') && ($this = $this.closest('[data-toggle^="class"]'));
                $class = $this.data()['toggle'];
                $target = $this.data('target') || $this.attr('href');
                $class && ($tmp = $class.split(':')[1]) && ($classes = $tmp.split(','));
                $target && ($targets = $target.split(','));
                $classes && $classes.length && $.each($targets, function( index, value ) {
                    if ( $classes[index].indexOf( '*' ) !== -1 ) {
                        var patt = new RegExp( '\\s' +
                                $classes[index].
                                replace( /\*/g, '[A-Za-z0-9-_]+' ).
                                split( ' ' ).
                                join( '\\s|\\s' ) +
                                '\\s', 'g' );
                        $($this).each( function ( i, it ) {
                            var cn = ' ' + it.className + ' ';
                            while ( patt.test( cn ) ) {
                                cn = cn.replace( patt, ' ' );
                            }
                            it.className = $.trim( cn );
                        });
                    }
                    ($targets[index] !='#') && $($targets[index]).toggleClass($classes[index]) || $this.toggleClass($classes[index]);
                });
                $this.toggleClass('active');
            });

            // collapse nav
            $(document).on('click', 'nav a', function (e) {
                var $this = $(e.target), $active;
                $this.is('a') || ($this = $this.closest('a'));

                $active = $this.parent().siblings( ".active" );
                $active && $active.toggleClass('active').find('> ul:visible').slideUp(200);

                ($this.parent().hasClass('active') && $this.next().slideUp(200)) || $this.next().slideDown(200);
                $this.parent().toggleClass('active');

                $this.next().is('ul') && e.preventDefault();

                setTimeout(function(){ $(document).trigger('updateNav'); }, 300);
            });
        });
    }(jQuery);
</script>
{% block more_script %}
{% endblock more_script %}
</body>
</html>